import java.util.ArrayList;

class TreeNode {
    int val;
    TreeNode left;
    TreeNode right;
    TreeNode (int x) {
        val = x;
        left = null;
        right = null;
    }
}

// PreOrder traversal
public class IsIdentical {
    public ArrayList<Integer> solve(ArrayList<Integer> IList, TreeNode I) {
        if (I == null) {
            return null;
        }

        IList.add(I.val);
        solve(IList, I.left);
        solve(IList, I.right);
        return IList;
    }

    public int isSameTree(TreeNode A, TreeNode B) {
        ArrayList<Integer> AList = new ArrayList<>();
        ArrayList<Integer> ANewList = solve(AList, A);
        ArrayList<Integer> BList = new ArrayList<>();
        ArrayList<Integer> BNewList = solve(BList, B);

        
        if (ANewList.size() == BNewList.size()) {
            for (int i = 0; i < ANewList.size(); i++) {
                int AVal = ANewList.get(i);
                int BVal = BNewList.get(i);
                if (AVal != BVal) {
                // if (ANewList.get(i) != BNewList.get(i)) {
                    return 0;
                }
            }
        } else {
            return 0;
        }
        return 1;
    }
}

// 1257 169 29 77 495 67 451 514 80 362 101 606 55 466 170 613 41 456 145 -1 218 443 215 313 309 534 40 152 593 286 39 264 493 265 585 -1 -1 -1 542 245 147 207 88 569 120 577 460 539 96 349 507 323 226 257 607 -1 191 299 104 453 273 559 376 62 -1 -1 337 49 444 494 486 383 297 340 523 395 98 330 165 339 474 423 -1 -1 161 370 567 461 426 187 -1 -1 502 597 416 -1 177 -1 -1 30 242 455 561 616 610 26 106 11 -1 -1 -1 277 328 532 60 194 513 422 361 504 487 71 189 -1 -1 115 356 312 468 462 463 475 371 -1 628 288 -1 -1 465 333 163 135 510 603 93 390 -1 -1 -1 545 612 578 -1 454 515 325 374 600 278 338 380 276 195 609 489 586 448 166 -1 -1 482 227 247 622 141 364 97 295 533 3 -1 582 -1 51 558 457 -1 598 485 -1 363 114 420 53 446 -1 573 168 -1 -1 -1 -1 -1 -1 -1 -1 442 528 -1 -1 42 -1 -1 134 244 -1 530 23 413 -1 -1 -1 159 581 73 509 524 547 267 591 7 82 424 -1 72 -1 178 519 -1 240 505 458 113 22 136 -1 570 -1 285 -1 307 -1 360 15 -1 -1 602 61 500 162 417 439 -1 89 272 225 270 556 -1 185 -1 306 119 433 441 254 506 375 -1 583 -1 334 348 449 -1 -1 275 -1 -1 527 -1 -1 -1 -1 -1 553 171 -1 193 538 372 378 83 146 415 121 450 -1 477 -1 -1 -1 568 144 197 584 298 399 20 599 192 33 248 596 293 -1 -1 -1 228 50 266 -1 -1 398 -1 -1 -1 35 201 -1 157 238 541 44 490 -1 -1 611 -1 393 107 -1 588 -1 184 132 224 -1 -1 -1 432 91 303 -1 68 316 232 -1 315 -1 235 -1 501 217 438 237 25 -1 48 56 394 346 66 -1 -1 -1 118 525 -1 -1 -1 365 497 10 385 179 -1 249 -1 200 180 290 99 -1 473 -1 -1 -1 546 -1 153 350 440 -1 608 579 -1 563 143 -1 437 418 -1 122 155 -1 531 366 518 -1 253 -1 428 112 -1 18 624 550 -1 -1 209 291 216 617 -1 -1 -1 -1 496 625 74 250 294 -1 213 481 549 28 -1 620 -1 -1 43 -1 45 -1 -1 -1 -1 435 -1 572 103 425 78 27 354 369 -1 571 343 480 -1 -1 -1 336 133 -1 211 -1 560 -1 203 431 -1 -1 -1 467 -1 -1 137 -1 367 -1 -1 156 347 246 -1 274 -1 -1 138 -1 282 358 566 -1 87 592 -1 -1 623 -1 407 -1 -1 190 332 319 -1 -1 -1 -1 149 -1 -1 287 -1 478 -1 -1 -1 -1 -1 -1 595 408 205 151 304 526 -1 38 503 351 -1 -1 -1 -1 -1 472 -1 160 116 -1 409 430 382 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 529 -1 -1 -1 230 522 -1 1 202 -1 117 345 -1 401 268 -1 -1 445 69 34 412 -1 621 471 130 -1 111 -1 -1 492 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 404 109 -1 -1 -1 554 -1 -1 -1 -1 90 -1 -1 -1 -1 -1 -1 -1 -1 124 -1 -1 627 222 -1 251 -1 -1 -1 75 70 -1 -1 -1 -1 139 -1 -1 -1 -1 300 148 -1 411 386 -1 198 -1 -1 102 -1 -1 -1 557 -1 -1 -1 -1 -1 -1 -1 587 8 314 -1 110 -1 127 -1 -1 381 -1 -1 -1 -1 -1 -1 243 -1 576 614 19 -1 -1 -1 -1 -1 -1 -1 -1 -1 17 543 -1 229 -1 -1 357 -1 436 -1 -1 544 221 352 158 -1 -1 -1 -1 -1 -1 -1 521 469 459 391 -1 -1 -1 301 -1 452 498 353 488 296 -1 -1 318 -1 -1 284 94 324 -1 210 615 -1 9 464 -1 -1 -1 -1 212 241 -1 142 447 419 508 -1 -1 196 -1 -1 -1 626 52 85 -1 -1 -1 -1 321 -1 219 125 -1 -1 -1 -1 -1 -1 2 65 174 575 -1 -1 -1 -1 517 -1 429 -1 280 128 -1 -1 -1 -1 551 -1 -1 -1 -1 -1 -1 -1 -1 -1 13 292 -1 302 63 -1 -1 -1 -1 -1 252 -1 329 261 397 -1 434 618 -1 -1 -1 -1 387 -1 -1 -1 -1 -1 234 -1 123 -1 -1 32 342 -1 -1 92 -1 590 326 -1 86 344 281 -1 -1 -1 220 -1 64 388 -1 -1 -1 -1 -1 -1 -1 -1 176 -1 -1 484 -1 54 108 392 574 -1 -1 -1 322 -1 341 76 536 57 -1 512 -1 -1 562 -1 516 -1 4 -1 95 -1 223 511 164 -1 58 368 310 -1 167 594 -1 548 402 131 173 262 384 -1 -1 -1 126 -1 37 -1 -1 -1 -1 -1 -1 81 269 -1 -1 -1 -1 -1 255 -1 373 -1 260 -1 -1 -1 -1 100 -1 -1 -1 -1 206 379 31 84 -1 -1 279 -1 -1 -1 239 -1 129 405 -1 -1 604 24 483 -1 -1 -1 12 271 -1 -1 -1 -1 259 -1 499 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 427 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 406 -1 182 -1 -1 -1 -1 21 233 258 335 59 181 -1 -1 -1 -1 -1 -1 -1 -1 5 -1 -1 -1 -1 -1 -1 -1 -1 317 535 565 -1 -1 46 -1 -1 -1 580 -1 355 154 -1 -1 -1 -1 396 359 -1 -1 -1 -1 204 -1 36 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 552 -1 -1 389 140 -1 -1 -1 -1 311 79 470 47 188 -1 -1 540 -1 -1 400 331 -1 199 377 175 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 403 601 -1 -1 -1 537 -1 14 -1 6 -1 -1 -1 -1 -1 -1 -1 -1 236 -1 -1 -1 -1 -1 214 -1 -1 -1 172 -1 -1 -1 -1 -1 -1 -1 410 256 -1 -1 589 564 -1 -1 605 -1 320 308 -1 476 -1 183 -1 150 -1 -1 -1 -1 -1 421 208 -1 186 283 -1 231 289 -1 -1 -1 -1 -1 555 -1 105 -1 -1 -1 327 -1 -1 -1 479 414 -1 -1 -1 -1 -1 619 -1 491 -1 -1 -1 -1 -1 -1 16 -1 -1 -1 -1 -1 -1 -1 263 -1 -1 -1 305 520 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1


// 1257 169 29 77 495 67 451 514 80 362 101 606 55 466 170 613 41 456 145 -1 218 443 215 313 309 534 40 152 593 286 39 264 493 265 585 -1 -1 -1 542 245 147 207 88 569 120 577 460 539 96 349 507 323 226 257 607 -1 191 299 104 453 273 559 376 62 -1 -1 337 49 444 494 486 383 297 340 523 395 98 330 165 339 474 423 -1 -1 161 370 567 461 426 187 -1 -1 502 597 416 -1 177 -1 -1 30 242 455 561 616 610 26 106 11 -1 -1 -1 277 328 532 60 194 513 422 361 504 487 71 189 -1 -1 115 356 312 468 462 463 475 371 -1 628 288 -1 -1 465 333 163 135 510 603 93 390 -1 -1 -1 545 612 578 -1 454 515 325 374 600 278 338 380 276 195 609 489 586 448 166 -1 -1 482 227 247 622 141 364 97 295 533 3 -1 582 -1 51 558 457 -1 598 485 -1 363 114 420 53 446 -1 573 168 -1 -1 -1 -1 -1 -1 -1 -1 442 528 -1 -1 42 -1 -1 134 244 -1 530 23 413 -1 -1 -1 159 581 73 509 524 547 267 591 7 82 424 -1 72 -1 178 519 -1 240 505 458 113 22 136 -1 570 -1 285 -1 307 -1 360 15 -1 -1 602 61 500 162 417 439 -1 89 272 225 270 556 -1 185 -1 306 119 433 441 254 506 375 -1 583 -1 334 348 449 -1 -1 275 -1 -1 527 -1 -1 -1 -1 -1 553 171 -1 193 538 372 378 83 146 415 121 450 -1 477 -1 -1 -1 568 144 197 584 298 399 20 599 192 33 248 596 293 -1 -1 -1 228 50 266 -1 -1 398 -1 -1 -1 35 201 -1 157 238 541 44 490 -1 -1 611 -1 393 107 -1 588 -1 184 132 224 -1 -1 -1 432 91 303 -1 68 316 232 -1 315 -1 235 -1 501 217 438 237 25 -1 48 56 394 346 66 -1 -1 -1 118 525 -1 -1 -1 365 497 10 385 179 -1 249 -1 200 180 290 99 -1 473 -1 -1 -1 546 -1 153 350 440 -1 608 579 -1 563 143 -1 437 418 -1 122 155 -1 531 366 518 -1 253 -1 428 112 -1 18 624 550 -1 -1 209 291 216 617 -1 -1 -1 -1 496 625 74 250 294 -1 213 481 549 28 -1 620 -1 -1 43 -1 45 -1 -1 -1 -1 435 -1 572 103 425 78 27 354 369 -1 571 343 480 -1 -1 -1 336 133 -1 211 -1 560 -1 203 431 -1 -1 -1 467 -1 -1 137 -1 367 -1 -1 156 347 246 -1 274 -1 -1 138 -1 282 358 566 -1 87 592 -1 -1 623 -1 407 -1 -1 190 332 319 -1 -1 -1 -1 149 -1 -1 287 -1 478 -1 -1 -1 -1 -1 -1 595 408 205 151 304 526 -1 38 503 351 -1 -1 -1 -1 -1 472 -1 160 116 -1 409 430 382 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 529 -1 -1 -1 230 522 -1 1 202 -1 117 345 -1 401 268 -1 -1 445 69 34 412 -1 621 471 130 -1 111 -1 -1 492 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 404 109 -1 -1 -1 554 -1 -1 -1 -1 90 -1 -1 -1 -1 -1 -1 -1 -1 124 -1 -1 627 222 -1 251 -1 -1 -1 75 70 -1 -1 -1 -1 139 -1 -1 -1 -1 300 148 -1 411 386 -1 198 -1 -1 102 -1 -1 -1 557 -1 -1 -1 -1 -1 -1 -1 587 8 314 -1 110 -1 127 -1 -1 381 -1 -1 -1 -1 -1 -1 243 -1 576 614 19 -1 -1 -1 -1 -1 -1 -1 -1 -1 17 543 -1 229 -1 -1 357 -1 436 -1 -1 544 221 352 158 -1 -1 -1 -1 -1 -1 -1 521 469 459 391 -1 -1 -1 301 -1 452 498 353 488 296 -1 -1 318 -1 -1 284 94 324 -1 210 615 -1 9 464 -1 -1 -1 -1 212 241 -1 142 447 419 508 -1 -1 196 -1 -1 -1 626 52 85 -1 -1 -1 -1 321 -1 219 125 -1 -1 -1 -1 -1 -1 2 65 174 575 -1 -1 -1 -1 517 -1 429 -1 280 128 -1 -1 -1 -1 551 -1 -1 -1 -1 -1 -1 -1 -1 -1 13 292 -1 302 63 -1 -1 -1 -1 -1 252 -1 329 261 397 -1 434 618 -1 -1 -1 -1 387 -1 -1 -1 -1 -1 234 -1 123 -1 -1 32 342 -1 -1 92 -1 590 326 -1 86 344 281 -1 -1 -1 220 -1 64 388 -1 -1 -1 -1 -1 -1 -1 -1 176 -1 -1 484 -1 54 108 392 574 -1 -1 -1 322 -1 341 76 536 57 -1 512 -1 -1 562 -1 516 -1 4 -1 95 -1 223 511 164 -1 58 368 310 -1 167 594 -1 548 402 131 173 262 384 -1 -1 -1 126 -1 37 -1 -1 -1 -1 -1 -1 81 269 -1 -1 -1 -1 -1 255 -1 373 -1 260 -1 -1 -1 -1 100 -1 -1 -1 -1 206 379 31 84 -1 -1 279 -1 -1 -1 239 -1 129 405 -1 -1 604 24 483 -1 -1 -1 12 271 -1 -1 -1 -1 259 -1 499 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 427 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 406 -1 182 -1 -1 -1 -1 21 233 258 335 59 181 -1 -1 -1 -1 -1 -1 -1 -1 5 -1 -1 -1 -1 -1 -1 -1 -1 317 535 565 -1 -1 46 -1 -1 -1 580 -1 355 154 -1 -1 -1 -1 396 359 -1 -1 -1 -1 204 -1 36 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 552 -1 -1 389 140 -1 -1 -1 -1 311 79 470 47 188 -1 -1 540 -1 -1 400 331 -1 199 377 175 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 403 601 -1 -1 -1 537 -1 14 -1 6 -1 -1 -1 -1 -1 -1 -1 -1 236 -1 -1 -1 -1 -1 214 -1 -1 -1 172 -1 -1 -1 -1 -1 -1 -1 410 256 -1 -1 589 564 -1 -1 605 -1 320 308 -1 476 -1 183 -1 150 -1 -1 -1 -1 -1 421 208 -1 186 283 -1 231 289 -1 -1 -1 -1 -1 555 -1 105 -1 -1 -1 327 -1 -1 -1 479 414 -1 -1 -1 -1 -1 619 -1 491 -1 -1 -1 -1 -1 -1 16 -1 -1 -1 -1 -1 -1 -1 263 -1 -1 -1 305 520 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1